<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <div class="header">
    </div>
    <section id="container">
        <ul>
            <li class="first">one</li>
            <li class="second">two</li>
            <li class="third">three</li>
        </ul>
        <ol>
            <li class="first">one</li>
            <li class="second">two</li>
            <li class="third">three</li>
        </ol>
    </section>
    <div class="footer">
    </div>
</body>
</html>

// 1 - Select the section with an id of container without using querySelector.
	

	document.getElementById("container");
	

	// 2 - Select the section with an id of container using querySelector.
	

	document.querySelector("#container");
	

	// 3 - Select all of the list items with a class of "second".
	

	document.getElementsByClassName("second");
	

	// 4 - Select a list item with a class of third, but only the list item inside of the ol tag.
	

	document.querySelector("ol .third");
	

	// 5 - Give the section with an id of container the text "Hello!".
	

	var firstDiv = document.querySelector("#container");
	firstDiv.innerText = "Hello";
	

	// 6 - Add the class main to the div with a class of footer.
	

	footer.className += "main";
	

	// 7 - Remove the class main on the div with a class of footer.
	

	var footer = document.querySelector(".footer");
	footer.classList.remove("main");
	

	// 8 - Create a new li element.
	

	var newLiElt = document.createElement("li");
	

	// 9 - Give the li the text "four".
	

	newLiElt.innerText = "four"
	

	// 10 - Append the li to the ul element.
	

	var list = document.querySelector("ul");
	list.appendChild(newLiElt);
	

	// 11 - Loop over all of the lis inside the ol tag and give them a background color of "green".
	

	var liInsideOl = document.querySelectorAll("ol li");
	for(var i = 0; i < liInsideOl.length; i++){
	    liInsideOl[i].style.backgroundColor = "green";
	}
	

	// 12 - Remove the div with a class of footer.
	

	var footer = document.querySelector(".footer");
	footer.remove();
	
	
	
	// EVENTS Section
    // Given the following HTML, create a script.js file to complete the first two parts.
	<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DOM Exercise</title>
    <style>
        div {
          width: 50px;
          height: 50px;
          display: inline-block;
        }
        .brown{
          background-color: brown;
        }
        .green{
          background-color: green;
        }
        .blue{
          background-color: blue;
        }
        .purple{
          background-color: purple;
        }
        .yellow{
          background-color: yellow;
        }
        .car1 {
         background-color: #8C9C12;
        }
        .car2 {
         background-color: #1DA788;
        }
        .car1, .car2 {
            margin-left: 0;
        }
    </style>
</head>
<body>
    <h1 id="change_heading">Change Me!</h1>
    SELECTED COLOR <span class="selected">None!</span>
    <section>
        <div class="brown"></div>
        <div class="green"></div>
        <div class="blue"></div>
        <div class="yellow"></div>
    </section>
    <h2>Race!</h2>
    <button>Start the race!</button>
    <br>
    <div class="car1"></div>
    <br>
    <div class="car2"></div>
    <script src="script.js"></script>
</body>
</html>



//       ...PART ONE...      
//	Quest 1. Add the necessary code to wait for the DOM to load 
//		 to make sure that anything you manipulate in the DOM 
//		 has loaded. You can do this either using window.onload 
//		 or adding an event listener for DOMContentLoaded. */
	
	window.onload = function(){


	};

		 
//	Quest 2. Replace the text "Change me" with "Hello World!".
	
	window.onload = function(){
    var el = document.getElementById("change me");
    el.innerText = "Hello world!";
	}
	
//	Quest 3. When a user hovers over one of the colored boxes
	change the text to display the color that is being hovered over.//
	
	window.onload = function(){
    var el = document.getElementById("change_heading");
    el.innerText = "Hello world!";

    var section = document.querySelector("section");
    section.addEventListener("mouseover", function(event){
        var selectedColor = document.querySelector('.selected');
        selectedColor.innerText = event.target.className;
    })
};

		
//	Quest 4. Create a new div element.

	window.onload = function(){
    var el = document.getElementById("change_heading");
    el.innerText = "Hello world!";

    var section = document.querySelector("section");
    section.addEventListener("mouseover", function(event){
        var selectedColor = document.querySelector('.selected');
        selectedColor.innerText = event.target.className;
    })

    var newDiv = document.createElement("div");
    newDiv.className = "purple";
    section.appendChild(newDiv);
}

// Quest 5. Give your new div a class of purple and style it
	so that it has a background color of purple.//

	window.onload = function(){
	    var el = document.getElementById("change me");
	    el.innerText = "Hello world!";
	

	    var section = document.querySelector("section")
	    section.addEventListener("mouseover", function(event){
	        var selectedColor = document.querySelector('.selected');
	        selectedColor.innerText = event.target.className;
	    })
	};

// Quest 6. Append your new div to the page to the section tag.
	
		var newDiv = document.createElement("div");
	    newDiv.className = "purple";
	    section.appendChild(newDiv);
	
*/  ...PART TWO...     */

//  Create a racing game with the two cars. When the race button is pressed, 
//	the two cars should move across the screen until one of them is at the end of the screen.
//	When one of the blocks reaches the end - you should alert "winner!"//
	
	
	    var button = document.querySelector("button");
	    var car1 = document.querySelector('.car1');
	    var car2 = document.querySelector('.car2');
	    car1.style.marginLeft = 0;
	    car2.style.marginLeft = 0;
	

	    function reset(car1, car2){
	        clearTimeout(car1.timer);
	        clearTimeout(car2.timer);
	        car1.style.marginLeft = 0;
	        car2.style.marginLeft = 0;
	        button.disabled = false;
	    }
	

	    button.addEventListener("click", function(event){
	        button.disabled = true;
	        car1.timer = setInterval(function(){
	            car1.style.marginLeft = parseInt(car1.style.marginLeft) + Math.random()*60 + 'px';
	            if(parseInt(car1.style.marginLeft) > window.innerWidth){
	                alert("Car 1 wins!");
	                reset(car1,car2);
	            }
	        },60)
	

	        car2.timer = setInterval(function(){
	            car2.style.marginLeft = parseInt(car2.style.marginLeft) + Math.random()*60 + 'px';
	            if(parseInt(car2.style.marginLeft) > window.innerWidth){
	                alert("Car 2 wins!");
	                reset(car1,car2);
	            }
	        },60)
	

	

	    })
	}

div {
	  width: 50px;
	  height: 50px;
	  display: inline-block;
	}
	.brown{
	  background-color: brown;
	}
	.green{
	  background-color: green;
	}
	.blue{
	  background-color: blue;
	}
	.purple{
	  background-color: purple;
	}
	.yellow{
	  background-color: yellow;
	}
	.car1 {
	 background-color: #8C9C12;
	}
	.car2 {
	 background-color: #1DA788;
	}
	

	.car1, .car2 {
	    margin-left: 0;
	}


//  ...PART THREE...

// For this assignment you will be combining your knowledge of DOM access and events
//   to build a todo app!
//   As a user, you should be able to:

//  •	Add a new todo (by submitting a form)
//  •	Mark a todo as completed (cross out the text of the todo)
//  •	Remove a todo  */

<!DOCTYPE html>
	<html lang="en">
	<head>
	    <meta charset="UTF-8">
	    <title>Document</title>
	</head>
	<body>
	    <h1>Your Todos</h1>
	    <ul id="todoList">
	

	    </ul>
	    <form action="#" id="newTodoForm">
	        <label for="task">Task: </label>
	        <input type="text" name="task" id="task" autofocus>
	        <input type="submit" value="Add Todo">
	    </form>
	    <script src="script.js"></script>
	</body>
	</html>


window.onload = function(){
    var todoForm = document.getElementById("newTodoForm");
    var todoList = document.getElementById("todoList");


    todoForm.addEventListener("submit", function(event){
        event.preventDefault();


        var removeButton = document.createElement("button");
        removeButton.innerText = "X";


        var newTodo = document.createElement("li");
        newTodo.innerText = document.getElementById("task").value;


        todoList.appendChild(newTodo);
        newTodo.appendChild(removeButton);


        todoForm.reset();
    })


    todoList.addEventListener("click", function(event){
        if (event.target.tagName.toLowerCase() === 'li') {
            event.target.style.textDecoration = "line-through";
        }
        else if (event.target.tagName.toLowerCase() === 'button') {
            event.target.parentNode.remove();
        }
    })


}


//  ...PART FOUR...
//Using localStorage, try to store your todos so that
//if you refresh the page you do not lose what you have
//added to the list! As a super bonus, try to also save 
//todos that you have marked as complete!

	window.onload = function(){
	    var todoForm = document.getElementById("newTodoForm");
	    var todoList = document.getElementById("todoList");
	

	    // retrieve from localStorage
	    var savedTodos = JSON.parse(localStorage.getItem("todos")) || []
	    for(var i=0; i < savedTodos.length; i++){
	        var newTodo = document.createElement("li");
	        newTodo.innerText = savedTodos[i].task
	        newTodo.isCompleted = savedTodos[i].isCompleted ? true : false;
	        if(newTodo.isCompleted) {
	            newTodo.style.textDecoration = "line-through";
	        }
	        todoList.appendChild(newTodo);
	    }
	

	    todoForm.addEventListener("submit", function(event){
	        event.preventDefault();
	        var newTodo = document.createElement("li");
	        var taskValue = document.getElementById("task").value;
	        newTodo.innerText = taskValue;
	        newTodo.isCompleted = false;
	        todoForm.reset();
	        todoList.appendChild(newTodo);
	

	        // save to localStorage
	        savedTodos.push({task: newTodo.innerText, isCompleted: false});
	        localStorage.setItem("todos", JSON.stringify(savedTodos));
	    })
	

	    todoList.addEventListener("click", function(event){
	        var clickedListItem = event.target;
	

	        if(!clickedListItem.isCompleted) {
	            clickedListItem.style.textDecoration = "line-through";
	            clickedListItem.isCompleted = true;
	        } else {
	            clickedListItem.style.textDecoration = "none";
	            clickedListItem.isCompleted = false;
	        }
	

	        // breaks for duplicates - another option is to have dynamic IDs
	        for(var i=0; i < savedTodos.length; i++){
	            if(savedTodos[i].task === clickedListItem.innerText){
	                savedTodos[i].isCompleted = clickedListItem.isCompleted;
	                localStorage.setItem("todos", JSON.stringify(savedTodos));
	            }
	        }
	    });
	}
};